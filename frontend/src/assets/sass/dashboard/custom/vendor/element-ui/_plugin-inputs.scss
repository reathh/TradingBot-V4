@import "../../variables";

// Base Element Plus input styling for Element Plus only
.form-group {
  .el-date-editor {
    width: 100% !important;
  }
  
  .el-input__inner {
    @extend .form-control;
    width: 100%;
  }
  
  // Element Plus wrapper div styling
  .el-input__wrapper {
    background-color: $input-bg;
    border-radius: $border-radius-lg;
    box-shadow: 0 0 0 1px rgba($black, 0.05) inset;
    
    &:hover, &:focus, &.is-focus {
      box-shadow: 0 0 0 1px $primary inset;
    }
  }
  
  .el-select {
    width: 100%;
    .el-input__inner {
      cursor: pointer !important;
    }
  }
  
  .el-input-number {
    width: 100%;
    .plus-button {
      @extend .btn-round, .btn-primary;
      padding: 0 !important;
      border: 0;
    }
    .el-input-number__decrease {
      @extend .plus-button;
      border-radius: $btn-round-radius 0 0 $btn-round-radius !important;
    }
    .el-input-number__increase {
      @extend .plus-button;
      border-radius: 0 $btn-round-radius $btn-round-radius 0 !important;
    }
  }
}

// Search input styling
.search-input {
  width: 250px;
}

// Dark theme (default) search input styling
.form-group.has-search {
  position: relative;
  margin-bottom: 0;
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
  padding: 0 !important;
  
  // Remove any default styling that might cause the double box
  &::before, &::after {
    display: none !important;
  }
  
  .el-input.search-input,
  .el-input.input-primary,
  .el-input {
    border: none;
    outline: none;
    width: 250px;
    
    // Remove any default boxes
    &::before, &::after {
      display: none;
    }
    
    // Style the inner wrapper to match the original theme
    .el-input__wrapper {
      background-color: #27293d;
      box-shadow: 0 0 0 1px #2b3553 inset;
      border-radius: 0.4285rem;
      outline: none;
      padding: 0 12px;
      transition: box-shadow 0.15s ease;
      margin: 0;
      border: none;
      
      &:focus,
      &:focus-within,
      &:focus-visible,
      &:hover,
      &.is-focus {
        outline: none;
        box-shadow: 0 0 0 1px #2b3553 inset;
      }
    }
    
    .el-input__inner {
      background-color: transparent;
      color: white;
      outline: none;
      height: 36px;
      line-height: 36px;
      padding: 0;
      margin: 0;
      border: none;
    }
    
    .el-input__prefix {
      color: rgba(255, 255, 255, 0.7);
      display: flex;
      align-items: center;
      
      .el-icon {
        font-size: 16px;
      }
    }
    
    .el-input__suffix {
      color: rgba(255, 255, 255, 0.7);
      display: flex;
      align-items: center;
    }
  }
}

// Light theme overrides
.white-content {
  .form-group.has-search {
    .el-input.search-input,
    .el-input.input-primary,
    .el-input {
      .el-input__wrapper {
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.2) inset;
        
        &:focus,
        &:focus-within,
        &:focus-visible,
        &:hover,
        &.is-focus {
          box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.3) inset;
        }
      }
      
      .el-input__inner {
        color: #1e1e2f;
        background-color: transparent;
      }
      
      .el-input__prefix {
        color: rgba(0, 0, 0, 0.6);
        
        .el-icon {
          color: rgba(0, 0, 0, 0.6);
        }
      }
      
      .el-input__suffix {
        color: rgba(0, 0, 0, 0.6);
      }
    }
  }
}

.el-input__inner,
.el-input__inner:focus,
.el-input__inner:active,
.el-input__inner:focus-visible,
.el-input__inner:focus-within {
  outline: none !important;
  box-shadow: none !important;
  border: none !important;
  border-color: transparent !important;
  background-color: transparent !important;
}

.el-input__wrapper,
.el-input__wrapper:focus,
.el-input__wrapper:active,
.el-input__wrapper:focus-visible,
.el-input__wrapper:focus-within {
  box-shadow: none !important;
  border: none !important;
  border-color: transparent !important;
  outline: none !important;
}

.white-content .el-input__inner,
.white-content .el-input__inner:focus,
.white-content .el-input__wrapper,
.white-content .el-input__wrapper:focus {
  border: none !important;
  border-color: transparent !important;
  box-shadow: none !important;
  outline: none !important;
}

